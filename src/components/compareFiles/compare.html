<div class="container-fluid">
    <div class="container-fluid" v-if="$store.state.NHAddresses.length != 0">
        <!-- https://startbootstrap.com/template-overviews/sb-admin-2/ -->
        <!-- Todo make a way to add new input fields with reactive data that lets the user enter as many addresses as they want -->
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div class="d-md-flex align-items-center">
                            <div>
                                <h2 class="card-title mb-0">Total Unpaid Balance</h2>
                            </div>
                        </div>
                    </div>
                    <div v-if="dataLoaded">
                        <line-chart :chartData="userData" :width="400" :height="200" class="my-1" :options="chartOptions"></line-chart>
                    </div>
                    <!-- todo: put it here -->
                </div>
            </div>
        </div>

        <div class="row">

            <div class="col-md-12 my-4">
                <div class="card">

                    <div class="card-body">
                        <div class="d-md-flex align-items-center">
                            <div>
                                <h4 class="card-title mb-0">General Data</h4>
                            </div>

                        </div>
                    </div>

                    <div class="table-responsve">
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr>
                                    <th>Address</th>
                                    <th>Preferred Algorithim</th>
                                    <th>Unpaid Balance</th>
                                    <th>Profitability BTC Day</th>
                                    <th>Profitability USD Day</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="data in addrsData" :key="data.id">
                                    <!-- <td v-for="col in columns">{{row[col]}}</td> -->
                                    <td>{{matchAddrToName(data.result.addr)}}</td>
                                    <!-- At hover should say how much Profit in BIT -->
                                    <td>{{prefereredAlgorithim(data.result.current)}}</td>
                                    <td>{{totalBalance(data)}}</td>
                                    <td>{{summedProfit(data.result.current, "BIT")}}</td>
                                    <td>{{summedProfit(data.result.current, "USD")}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-md-12 my-1" v-if='dataLoaded'>
                <h4>Bitcoin Price</h4>
                <!-- todo: add a slider that starts from 0 and goes to 25k, start position will be the actual bitcoin price  -->
                <div>
                    <vue-slider ref="slider" v-bind="sliderOptions" v-model="userChosenBITValue"></vue-slider>
                </div>
                <!-- Todo: Make this go to the risght side -->
                <div class="btn-group">
                    <button class="btn btn-primary" @click="$refs.slider.setValue($store.state.currentBITPriceNum)">Current
                        BIT
                        Value</button>
                    <!-- <button @click="$refs.slider.setIndex(50)">setIndex</button>
                    <button @click="log($refs.slider.getValue())">getValue</button>
                    <button @click="log($refs.slider.getIndex())">getIndex</button> -->
                </div>
            </div>
        </div>

        <!-- Todo: table for payment data -->
        <!-- Todo: table for workers -->

        <!-- Todo: this will be the workers To indicate if active or not,
        Todo: Put each one in its own card with multiple of them -->
        <!-- <div class="card-columns mt-3">
            <div class="card" v-for="worker in workersData.workers" :key='worker.id'>
                <div class="card-body">
                    <h5 class="card-title">{{worker[0]}}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Mining {{mapAlgorithim(worker[6])}}</h6>
                    <div class="row">
                        <div class="col-6">
                            <p class="card-text">Accepted: {{worker[1].a}}</p>
                        </div>
                        <div class="col-6">
                            <p class="card-text" v-if="worker[1].rs">Rejected: {{worker[1].rs}}</p>
                            <p class="card-text" v-else>Rejected: 0</p>

                        </div>
                    </div>

                </div>
                <div class="card-footer">
                    <small class="text-muted">Connected For {{worker[2]}} Minutes</small>
                </div>
            </div>
        </div> -->

    </div>

    <div class="container-fluid mx-auto" v-else>
        <h1 class="mx-auto">Add an Address</h1>
    </div>
    <error v-if="error"> </error>
</div>